1
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>RAF Technical Note: Processing Algorithms</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html --> 
<meta name="src" content="ProcessingAlgorithms.tex"> 
<link rel="stylesheet" type="text/css" href="ProcessingAlgorithms.css"> 
</head><body 
>
<div class="maketitle">
                                                                                       
                                                                                       
                                                                                       
                                                                                       

<h2 class="titleHead">RAF Technical Note: Processing Algorithms</h2>
 <div class="author" ></div><br />
<div class="date" ></div>
</div>
Algorithms Used to Produce Data Products from Research Aircraft;<br />
also Definitions of Variables in Archived Data Files
<div  
class="centerline">                                version: November 2017                                </div>
Research Aviation Facility, Earth Observing Laboratory<br 
class="newline" />National Center for Atmospheric Research<br 
class="newline" />PO Box 3000, Boulder CO &#x00A0;80307-3000
Current PDF version of this document: <a 
href="http://www.eol.ucar.edu/system/files/ProcessingAlgorithms.pdf" >Processing Algorithms</a>
                                                                                       
                                                                                       
&#x00A0;&#x00A0;&#x00A0;&#x00A0;
                                                                                       
                                                                                       
<a 
 id="likesection.1"></a><a 
 id="Q1-1-1"></a>
<h3 class="likesectionHead"><a 
 id="x1-1000"></a>Table of Contents</h3>
<div class="tableofcontents">
<span class="sectionToc" ><a 
href="#Q1-1-1">Table of Contents</a></span>
<br /><span class="sectionToc" >1 <a 
href="#x1-20001" id="QQ2-1-3">INTRODUCTION</a></span>
<br />&#x00A0;<span class="subsectionToc" >1.1 <a 
href="#x1-30001.1" id="QQ2-1-4">Background Information</a></span>
<br />&#x00A0;<span class="subsectionToc" >1.2 <a 
href="#x1-40001.2" id="QQ2-1-5">Alphabetical List of Variables </a></span>
<br />&#x00A0;<span class="subsectionToc" >1.3 <a 
href="#x1-50001.3" id="QQ2-1-6">Constants and Symbols</a></span>
<br /><span class="sectionToc" >2 <a 
href="#x1-60002" id="QQ2-1-7">GENERAL INFORMATION</a></span>
<br />&#x00A0;<span class="subsectionToc" >2.1 <a 
href="#x1-70002.1" id="QQ2-1-8">System of Units</a></span>
</div>
                                                                                       
                                                                                       
                                                                                       
                                                                                       
                                                                                       
                                                                                       
                                                                                       
                                                                                       
<h3 class="sectionHead"><span class="titlemark">1    </span> <a 
 id="x1-20001"></a>INTRODUCTION</h3>
<h4 class="subsectionHead"><span class="titlemark">1.1    </span> <a 
 id="x1-30001.1"></a>Background Information</h4>
This technical report defines the variables used in data sets that are collected by the research aircraft
operated by the Research Aviation Facility (RAF) of the National Center for Atmospheric Research.
Where appropriate, it also documents the equations that are used by the processing software (currently
&#8220;nimbus&#8221;<a 
 id="dx1-3001"></a>) to calculate the derived measurements that result from the use of one or more other basic
measurements (e.g., potential temperature). Since 1993, data from research flights have been archived
in NetCDF format<a 
 id="dx1-3002"></a> (cf. <a 
href="http://www.unidata.ucar.edu/software/netcdf/docs/" class="url" ><span 
class="ec-lmtt-12">http://www.unidata.ucar.edu/software/netcdf/docs/</span></a>), and the
NetCDF header<a 
 id="dx1-3003"></a> for recent projects includes detailed information on the measurements present in the
file, how they depend on other measurements, units, etc. The conventions that the RAF uses for
NetCDF data files are documented at <a 
href=" http://www.eol.ucar.edu/raf/Software/netCDF.html " class="url" ><span 
class="ec-lmtt-12">http://www.eol.ucar.edu/raf/Software/netCDF.html</span></a>.
This document should change as changes in processing algorithms are implemented, but the intent is
also to provide a history of algorithms that have been used, so there is an effort to document how past
archives were processed along with the descriptions of current algorithms. Unlike some technical
reports, this document is likely to change over time and should provide a history extending back to
<a 
href="http://www.eol.ucar.edu/raf/Bulletins/bulletin9.html" >RAF Bulletin 9</a><a 
 id="dx1-3004"></a>, which documented the processing algorithms as they existed in and before about
2003.
<a 
 id="dx1-3005"></a>
Currently, the data acquisition process on the research aircraft of the Research Aviation Facility, Earth
Observing Laboratory, proceeds as <a 
 id="dx1-3006"></a>follows:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x1-3008x1">Analog or digital outputs from instruments are sampled at regular intervals, typically 50
      Hz<a 
 id="dx1-3009"></a> when possible. Analog outputs are converted to digital values via analog-to-digital
      converters. The investigator&#8217;s handbooks for each aircraft describe this process in detail,
      including  resolution  of  the  sampling  and  handling  of  the  results.  Often,  signals  from
      user-supplied instruments<a 
 id="dx1-3010"></a> are also included in the measured values that are handled by
      the data system.
      </li>
      <li 
  class="enumerate" id="x1-3012x2">The digital outputs are then recorded by the data system on the aircraft. Currently, this is
      a task of the <span 
class="ptmri8t-x-x-120">&#8220;</span><a 
href="http://www.eol.ucar.edu/data/software/nidas" >NIDAS</a>&#8221;<a 
 id="dx1-3013"></a> system described below. That system also controls the sampling,
      time stamps, and other aspects of data recording.
      </li>
      <li 
  class="enumerate" id="x1-3015x3">In flight, the data are processed by the <span 
class="ptmri8t-x-x-120">&#8220;nimbus&#8221; </span>data processing<a 
 id="dx1-3016"></a> program, which makes
      them available for display via &#8220;<a 
href="http://www.eol.ucar.edu/raf/Software/aeros_dnld.html" >aeros</a>&#8221; <a 
 id="dx1-3017"></a>for real-time monitoring<a 
 id="dx1-3018"></a> of measurements.
                                                                                       
                                                                                       
      </li>
      <li 
  class="enumerate" id="x1-3020x4">Following the flight, <span 
class="ptmri8t-x-x-120">nimbus</span><a 
 id="dx1-3021"></a> again processes the data. At this stage, measurements can be
      re-sampled with averaging and/or interpolation to produce various data rates, usually 1
      Hz or 25 Hz, and known lags in measurements can be introduced to adjust measurements
      to a common time basis. As part of this processing, <span 
class="ptmri8t-x-x-120">nimbus </span>applies calibration coefficients
      where appropriate to convert recorded values (e.g., voltage) to engineering units (e.g.,
      <sup><span 
class="zptmcm7y-x-x-90">&#x2218;</span></sup>C). Determining or checking these calibration coefficients is part of the pre-flight and
      post-flight procedures for each project.
      </li>
      <li 
  class="enumerate" id="x1-3023x5">The output from <span 
class="ptmri8t-x-x-120">nimbus </span>is the data file that is the permanent archive from the experiment,
      often after merging in additional data sets from users that are not recorded in the original
      data file produced by <span 
class="ptmri8t-x-x-120">NIDAS. </span>These files, in NetCDF format, have headers that contain
      metadata on each measurement (such as the calibration coefficients, the instrument that
      produced the measurement, etc.). Many of the variables in these files are discussed in this
      technical note, but the files may also include additional project-specific measurements for
      which the NetCDF header and the project reports will be the only documentation.</li></ol>
For assistance accessing data from RAF-supported projects, contact the RAF data management group
via <a 
href="mailto:mailto:raf-dm@eol.ucar.edu" >this email address</a>.
The data system has changed several times over the history of RAF. For a discussion of the history of
the data systems, see <a 
href="https://drive.google.com/open?id=0B1kIUH45ca5AekJYZmlsOV9sQ28" >this note</a>, written by Richard Friesen. The versions of data systems that
produced most of the data still available were, approximately, as given in the following
table:
<div class="minipage"></div><br 
class="newline" />
Before 1993, data were processed by a different program, &#8220;GENPRO,&#8221;<a 
 id="dx1-3024"></a> and a different output format
(also named GENPRO) was used for archived datasets. Appendix E in <a 
href="http://www.eol.ucar.edu/raf/Bulletins/bulletin9.html" >RAF Bulletin 9</a><a 
 id="dx1-3025"></a>, the previous
description of RAF data products that is now superseded by this technical note, describes that format.
Some variable names in this document, esp.&#x00A0;in section <span 
class="ptmb8t-x-x-120">??</span>, refer to obsolete variable names, some used
with GENPRO and others referring to instruments that are now retired. These names are included here
so that this report can be a reference for older archived data as well as for current data
files.
<h4 class="subsectionHead"><span class="titlemark">1.2    </span> <a 
 id="x1-40001.2"></a>Alphabetical List of Variables </h4>
At the end of this document, there is a list of all the variable names<a 
 id="dx1-4001"></a> that appear in standard data files
along with links to the primary discussion of those variables. The index to this technical report also
includes all variables described here, and also some variables not discussed in detail in this document.
Where possible, reference to those variables and information on the project(s) where they were used
have been included also. In cases with multiple references, the bold entry is the primary discussion of
the variable.
                                                                                       
                                                                                       
<a 
 id="dx1-4002"></a>
In some cases redundant measurements are present, often for key measurements like pressure or
temperature.<a 
 id="dx1-4003"></a> When these are used in subsequent calculation of derived variables like potential
temperature, some choice is usually made regarding which measurement is considered most reliable
for a particular project or flight, and a single derived variable is calculated on the basis of the chosen
input variable(s). To record which measurements were so designated, a reference measurement chosen
from a group of redundant measurements usually has a variable name ending with the letter(s) X or
XC.<span class="footnote-mark"><a 
href="ProcessingAlgorithms2.html#fn1x1"><sup class="textsuperscript">*</sup></a></span><a 
 id="x1-4004f1"></a> To
see the variables in a particular netCDF data file, use the command &#8220;ncdump -h file.nc&#8221;.
<h4 class="subsectionHead"><span class="titlemark">1.3    </span> <a 
 id="x1-50001.3"></a>Constants and Symbols</h4>
The following table contains values used for some constants in this document. For reference, the
symbols used here and elsewhere in this document are defined in the List of Symbols near the end of
the document (cf.&#x00A0;page <span 
class="ptmb8t-x-x-120">??</span>), and links are provided to where they are used. Where references are to the
&#8220;NIST Chemistry WebBook&#8221;, the associated URL is <a 
href="http://webbook.nist.gov" class="url" ><span 
class="ec-lmtt-12">http://webbook.nist.gov</span></a>. References to the
CODATA Internationally recommended values of the Fundamental Physical Constants are available at
<a 
href="http://physics.nist.gov/.cuu/.Constants" class="url" ><span 
class="ec-lmtt-12">http://physics.nist.gov/.cuu/.Constants</span></a>. The optimization involved in adjustment of
these coefficients is documented in Mohr et al., 2008a and 2008b, referenced at that URL.
<span class="footnote-mark"><a 
href="ProcessingAlgorithms3.html#fn2x1"><sup class="textsuperscript">&#8224;</sup></a></span><a 
 id="x1-5001f2"></a> In this
technical note, references to these symbols will often have these symbols or definitions
marked by the symbol <sup><span 
class="zptmcm7y-x-x-90">&#8224;</span></sup> to indicate that the values used are the standard ones in the following
table.
                                                                                       
                                                                                       
<span class="fbox"><div class="minipage">&#x00A0;&#x00A0;                                                                                                                                                                                  &#x00A0;&#x00A0;&#x00A0;                                                                                                                                                                                  &#x00A0;&#x00A0;&#x00A0;&#x00A0;                                                                                                                                                                                  &#x00A0;&#x00A0;&#x00A0;                                                                                                                                                                                  &#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x1E41;&#x1E41;&#x1E41;&#x1E41;&#x1E41;&#x1E41;
      
      &#x1E41;
      
      .
      
      